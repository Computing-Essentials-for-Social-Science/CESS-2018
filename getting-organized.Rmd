---
title: "Getting Organized to Do Data Science"
author: |
        | Christopher Skovron \& Jon Atwell
        | Northwestern University 
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: 
  revealjs::revealjs_presentation: 
    theme: simple
    highlight: haddock
    center: false
    transition: none
    #css: reveal.css
    self_contained: false
    lib_dir: "."
---
          
          
## Get organized



## Automate everything that can be automated
- Saves yourself time
- Prevents mistakes
- Sometimes comes at the cost of more time up front and code readability


## DON'T REPEAT YOURSELF


## Don't copy and paste
- Call things from where they are stored
- Typically, this will be on your disk or on some remote/cloud disk you can access from your machine


## Set up lists you can iterate over
- If you're doing the same task oer and over, you want to iterate over a list
- Strategies for doing this depend on task and language
- for loops
- apply functions 



## Understand your file structure


## Paths


## Setting a working directory
- Each script should have a "working directory"
- This is where your program will search for files referenced in the script, write any files you create using the script, etc.
- R: 
```{r, eval = FALSE}
setwd("/Users/cskovron/Dropbox/Research/ncs-constituent-eval/analysis")
# on Mac is equivalent to
setwd("~/Dropbox/Research/ncs-constituent-eval/analysis")
```
- Python:
```{python, eval = FALSE}
import os
path="~/Dropbox/Research/ncs-constituent-eval/analysis"
os.chdir(path)
```
- Command line:
```{bash, eval = FALSE}
cd "~/Dropbox/Research/ncs-constituent-eval/analysis"
```





## Navigating, relational paths
- After you set your working directory, you'll want to use it to navigate around
- Typically in your program, you can refer to anything in the working directory without prefacing it with anything 
```{r, eval = FALSE}

dat <- read.csv("some-file-in-your-working-directory.csv", stringsAsFactors = FALSE)

```

## Navigating, relational paths


## Good organizational principles


## Good and bad file names


## One script per task

- In general, each scipt should do a specific high-level task
- Figuring out where to break up scripts is more of an art than a science, but some rules of thumb 
- If you are at a point in your workflow where it would make sense to save something - a dataset, a model object, a few figures, etc, 


## Mind the order 
- Complex tasks will require multiple scripts
- Use organizing tools like RStudio's Projects
- Number scripts in order: `0_clean_data.R`, `1_merge_census_data.R`, `3_fit_multilevel models.R`


## Your audiences, in decreasing order

- Your future self
- Your collaborators
- Replicators 





## Version control 

- Simplest definition -- lets you revert to the past
- Track changes made by collaborators
- Document your contributions to code 


## Version control options

- Git/github
- Dropbox
- Collaboration is tough - live editing code for Python and R are coming but not common right now. More likely, one collaborator should be in a file at a time 





## Tidy data principles 

- Every data task will be different, but tidy data principles will help you keep organized
- Much of your workflow will be getting data inputs into a tidy format
- From the beginning, lay out what you need your dataset to look like to do the analyses you want, then work backward from there
- [Hadley's vignette on tidy data principles](https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html)
- [Chapter of R for Data Science on tidy data](http://r4ds.had.co.nz/tidy-data.html)




## Long data




## Wide data




## Relational data 
- Some data has structures more complex than simple tables
- For example, Netflix has a database where each user has a table of movies they've watched and a separate table for each movie of the users who have watched it
- This is "relational data"
- It's often, but not always, big 
- Requires special tools, usually SQL 



## Checking up on your data cleaning
- glance at your data: 
  - `View()` (but be careful!)
  - `summary()`
  - `head()` and `tail()`
  - `tibble::glimpse()`
  - `is.na()` and `sum(is.na())`



## Set yourself up to do things iteratively

- In one paper, I do the same analysis for many survey items
- To automate this, I made a helper file called `issues.names.titles.csv`

![](./images/helper-csv.png)






## Where to work? Development environments
- Let your software do some of the work for you
- RStudio projects
- RStudio gets new features every day that help you stay organized
- RMarkdown





What folders should you have



## Get organized to learn in the future

- Follow #rstats on twitter
- [I made a twitter list of good R follows here](https://twitter.com/cskovron/lists/rstats)
- Star your favorite packages on github and follow developers



